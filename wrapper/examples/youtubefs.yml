awk_fuse_parser: &awk_fuse_parser |
    awk '
    function output_fuse_dir(path) {
      return sprintf("ino=1 mode=drwxrwxrwx nlink=1 uid=0 gid=0 rdev=0 size=1024 blksize=512 blocks=2 atime=0 mtime=0 ctime=0 %s\0", $0) 
    }   
    function output_fuse_file(path) {
      return sprintf("ino=1 mode=-rwxrwxrwx nlink=1 uid=0 gid=0 rdev=0 size=1024 blksize=512 blocks=2 atime=0 mtime=0 ctime=0 %s\0", $0) 
    }   
    BEGIN { 
        #printf("%s", output_fuse_dir(".")) 
        #printf("%s", output_fuse_dir("..")) 
    }
    {   
        printf("%s", output_fuse_file($0)) 
    }'

youtubefs_root: &youtubefs_root
  cmd:
    - |
      cat<<EOF
      ctl
      result
      EOF
  parser:  
    - *awk_fuse_parser
  




wrapper_name: youtubefs

fs:
  "/": # /youtubefs
    readdir: *youtubefs_root
